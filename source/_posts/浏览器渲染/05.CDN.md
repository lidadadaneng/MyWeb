---
title: 05.CDN
date: 2023-03-09 16:42:46
categories:
- 前端
- 浏览器原理
tags:
- 浏览器原理
typora-root-url: ..\..
---

### 什么是CDN？

我们假设，当一个APP的用户群激增时，公司就必须在多个地理位置去部署服务器。为了缩短http请求时间，我们应该把大量的静态资源放置的离用户近一点。

CDN(Content Delivery Networks) 内容发布网络

CDN是一组分布在多个不同地理位置的web服务器，用于更加有效的向用户发布内容。



基本思路:

尽可能避开互联网上有可能影响数据传输速度和稳定性的瓶颈和环节，使内容传输的更快，更稳定。通过在网络各处放置节点服务器所构成的在现有的互联网基础之上的一层智能虚拟网络。

CDN系统能够实时地根据网络流量和各节点的连接，负载情况以及用户的距离和响应时间等综合信息将用户的请求重新导**向离用户最近的服务节点上**。



基础架构:最简单的CDN网络由**一个DNS服务器和几台缓存服务器**组成

1、用户输入的url，会经过DNS解析，解析成IP，从而找到CDN专用的服务器。

2、CDN拿到用户的IP地址，随后和区域负载均衡设备配合，选择一台用户所属区域的区域负载均衡设备

3、上述步骤的选择依据

​		a、根据用户IP地址，判断那一台服务器离用户最近。

​		b、根据用户所请求的URL中携带的内容名称，判断哪一台服务器上有用户需要的内容。

​		c、查询各个服务器当前的负载情况，判断哪一台服务器尚有服务能力。

> CDN本质上就是根据用户区域的不同，让用户从CDN服务器集群中最其近的节点，去做访问。

举一个应用场景，假设拼多多今天开一个活动抢iphone,如果某个地区(杭州)的用户激增，导致杭州的服务器宕机了，那么用户的请求服务会转给另一台服务器所在的城市。

一般淘宝的图片，访问百度的时候，都是请求的CDN。